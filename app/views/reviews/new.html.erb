<h2 class="text-center mt100">商品评价</h2>

<div class="col-md-4 col-md-offset-4">
  <%= simple_form_for [@product,@review] do |f| %>
    <div class="productDetail-evaluation w200 bc mt20 mb20">
      <div class="intro-text-count clearfix mt10">
        <div class="fl mr10">音效: </div>
        <div id="star-rating"></div>
      </div>
      <div class="intro-text-count clearfix mt10">
        <div class="fl mr10">外观: </div>
        <div id="star-look"></div>
      </div>
      <div class="intro-text-count clearfix mt10">
        <div class="fl mr10">价格: </div>
        <div id="star-price"></div>
      </div>
    </div>
    <div class="form-group">
      <%= f.input :content, label: "内容", input_html: { class: "form-control"} %>
    </div>

    <div class="from-group">
      <%= f.label :配图 %><br>

      <%= f.file_field :image, :multiple => true, name: "graphics[image][]" %>
    </div>
    <div class="form-actions">
      <%= f.submit "提交", disable_with: "Submiting...", class: "g-btn pl15 pr15 mt20 ml20 tc col-red f20 bg-red bc"%>
    </div>
  <% end %>

  <script type="text/javascript">
    autosize($('#review_content'));
    // 加.是class,加#是id   功能，自动根据输入的description内容调整框的尺寸。
  </script>

  <script>
  $('.star-look').raty({
    path: '/images/',
      readOnly: true,
      score: function() {
      return $(this).attr('data-score');
    }
  });

  $('.star-price').raty({
    path: '/images/',
      readOnly: true,
      score: function() {
      return $(this).attr('data-score');
    }
  });

  $('.star-rating').raty({
    path: '/images/',
    readOnly: true,
    score: function() {
      return $(this).attr('data-score');
    }
  });

  $('#star-rating').raty({
    path: '/images/',
    scoreName: 'review[rating]'
  });

  $('#star-look').raty({
    path: '/images/',
    scoreName: 'review[look]'
  });

  $('#star-price').raty({
    path: '/images/',
    scoreName: 'review[price]'
  });
</script>
</div>
